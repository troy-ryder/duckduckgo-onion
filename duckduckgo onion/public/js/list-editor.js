(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

module.exports = {
  displayCategories: ['Analytics', 'Advertising', 'Social Network'],
  requestListenerTypes: ['main_frame', 'sub_frame', 'stylesheet', 'script', 'image', 'object', 'xmlhttprequest', 'websocket', 'other'],
  // https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest/ResourceType
  feedbackUrl: 'https://duckduckgo.com/feedback.js?type=extension-feedback',
  tosdrMessages: {
    A: 'Good',
    B: 'Mixed',
    C: 'Poor',
    D: 'Poor',
    E: 'Poor',
    good: 'Good',
    bad: 'Poor',
    unknown: 'Unknown',
    mixed: 'Mixed'
  },
  httpsService: 'https://duckduckgo.com/smarter_encryption.js',
  duckDuckGoSerpHostname: 'duckduckgo.com',
  httpsMessages: {
    secure: 'Encrypted Connection',
    upgraded: 'Forced Encryption',
    none: 'Unencrypted Connection'
  },

  /**
   * Major tracking networks data:
   * percent of the top 1 million sites a tracking network has been seen on.
   * see: https://webtransparency.cs.princeton.edu/webcensus/
   */
  majorTrackingNetworks: {
    google: 84,
    facebook: 36,
    twitter: 16,
    amazon: 14,
    appnexus: 10,
    oracle: 10,
    mediamath: 9,
    oath: 9,
    maxcdn: 7,
    automattic: 7
  },

  /*
   * Mapping entity names to CSS class name for popup icons
   */
  entityIconMapping: {
    'Google LLC': 'google',
    'Facebook, Inc.': 'facebook',
    'Twitter, Inc.': 'twitter',
    'Amazon Technologies, Inc.': 'amazon',
    'AppNexus, Inc.': 'appnexus',
    'MediaMath, Inc.': 'mediamath',
    'StackPath, LLC': 'maxcdn',
    'Automattic, Inc.': 'automattic',
    'Adobe Inc.': 'adobe',
    'Quantcast Corporation': 'quantcast',
    'The Nielsen Company': 'nielsen'
  },
  httpsDBName: 'https',
  httpsLists: [{
    type: 'upgrade bloom filter',
    name: 'httpsUpgradeBloomFilter',
    url: 'https://staticcdn.duckduckgo.com/https/https-bloom.json'
  }, {
    type: "don't upgrade bloom filter",
    name: 'httpsDontUpgradeBloomFilters',
    url: 'https://staticcdn.duckduckgo.com/https/negative-https-bloom.json'
  }, {
    type: 'upgrade safelist',
    name: 'httpsUpgradeList',
    url: 'https://staticcdn.duckduckgo.com/https/negative-https-allowlist.json'
  }, {
    type: "don't upgrade safelist",
    name: 'httpsDontUpgradeList',
    url: 'https://staticcdn.duckduckgo.com/https/https-allowlist.json'
  }],
  tdsLists: [{
    name: 'surrogates',
    url: '/data/surrogates.txt',
    format: 'text',
    source: 'local'
  }, {
    name: 'tds',
    url: 'https://staticcdn.duckduckgo.com/trackerblocking/v2.1/tds.json',
    format: 'json',
    source: 'external',
    channels: {
      live: 'https://staticcdn.duckduckgo.com/trackerblocking/v2.1/tds.json',
      next: 'https://staticcdn.duckduckgo.com/trackerblocking/v2.1/tds-next.json',
      beta: 'https://staticcdn.duckduckgo.com/trackerblocking/beta/tds.json'
    }
  }, {
    name: 'ClickToLoadConfig',
    url: 'https://staticcdn.duckduckgo.com/useragents/social_ctp_configuration.json',
    format: 'json',
    source: 'external'
  }, {
    name: 'config',
    url: 'https://staticcdn.duckduckgo.com/trackerblocking/config/v1/extension-config.json',
    format: 'json',
    source: 'external'
  }],
  httpsErrorCodes: {
    'net::ERR_CONNECTION_REFUSED': 1,
    'net::ERR_ABORTED': 2,
    'net::ERR_SSL_PROTOCOL_ERROR': 3,
    'net::ERR_SSL_VERSION_OR_CIPHER_MISMATCH': 4,
    'net::ERR_NAME_NOT_RESOLVED': 5,
    NS_ERROR_CONNECTION_REFUSED: 6,
    NS_ERROR_UNKNOWN_HOST: 7,
    'An additional policy constraint failed when validating this certificate.': 8,
    'Unable to communicate securely with peer: requested domain name does not match the serverâ€™s certificate.': 9,
    'Cannot communicate securely with peer: no common encryption algorithm(s).': 10,
    'SSL received a record that exceeded the maximum permissible length.': 11,
    'The certificate is not trusted because it is self-signed.': 12,
    downgrade_redirect_loop: 13
  },
  platform: {
    name: 'extension'
  }
};

},{}],2:[function(require,module,exports){
"use strict";

var constants = require('../../data/constants');

var listPicker = document.getElementById('list-picker');
var listEditor = document.getElementById('list-content');
var saveButton = document.getElementById('save');
var lists = constants.tdsLists;
var selected = lists[0].name;

function getListFormat(name) {
  var _lists$find;

  return (_lists$find = lists.find(function (l) {
    return l.name === name;
  })) === null || _lists$find === void 0 ? void 0 : _lists$find.format;
} // build switcher options


lists.forEach(function (_ref) {
  var name = _ref.name;
  var option = document.createElement('option');
  option.value = name;
  option.innerText = name;
  listPicker.appendChild(option);
});

function listSwitcher() {
  selected = listPicker.selectedOptions[0].value;
  loadList(selected);
  saveButton.removeAttribute('disabled');
}

listPicker.addEventListener('change', listSwitcher);
listSwitcher();

function sendMessage(messageType, options, callback) {
  chrome.runtime.sendMessage({
    messageType: messageType,
    options: options
  }, callback);
}

function loadList(name) {
  sendMessage('getListContents', name, function (_ref2) {
    var etag = _ref2.etag,
        data = _ref2.data;
    var value = getListFormat(name) === 'json' ? JSON.stringify(data, null, '  ') : data;
    document.querySelector('#list-content').value = value;
  });
}

function saveList(name) {
  var value = listEditor.value;
  sendMessage('setListContents', {
    name: name,
    value: getListFormat(name) === 'json' ? JSON.parse(value) : value
  }, function () {
    return loadList(name);
  });
}

function reloadList(name) {
  sendMessage('reloadList', name, function () {
    return loadList(name);
  });
}

saveButton.addEventListener('click', function () {
  saveList(selected);
});
document.getElementById('reload').addEventListener('click', function () {
  reloadList(selected);
});
listEditor.addEventListener('keypress', function () {
  setTimeout(function () {
    console.log('changed', getListFormat(selected));

    if (getListFormat(selected) === 'json') {
      try {
        saveButton.removeAttribute('disabled');
      } catch (e) {
        console.log('parse error');
        saveButton.setAttribute('disabled', true);
      }
    } else {
      saveButton.removeAttribute('disabled');
    }
  }, 0);
});

},{"../../data/constants":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzaGFyZWQvZGF0YS9jb25zdGFudHMuanMiLCJzaGFyZWQvanMvZGV2dG9vbHMvbGlzdC1lZGl0b3IuZXM2LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxNQUFNLENBQUMsT0FBUCxHQUFpQjtBQUNiLEVBQUEsaUJBQWlCLEVBQUUsQ0FBQyxXQUFELEVBQWMsYUFBZCxFQUE2QixnQkFBN0IsQ0FETjtBQUViLEVBQUEsb0JBQW9CLEVBQUUsQ0FBQyxZQUFELEVBQWUsV0FBZixFQUE0QixZQUE1QixFQUEwQyxRQUExQyxFQUFvRCxPQUFwRCxFQUE2RCxRQUE3RCxFQUF1RSxnQkFBdkUsRUFBeUYsV0FBekYsRUFBc0csT0FBdEcsQ0FGVDtBQUV5SDtBQUN0SSxFQUFBLFdBQVcsRUFBRSw0REFIQTtBQUliLEVBQUEsYUFBYSxFQUFFO0FBQ1gsSUFBQSxDQUFDLEVBQUUsTUFEUTtBQUVYLElBQUEsQ0FBQyxFQUFFLE9BRlE7QUFHWCxJQUFBLENBQUMsRUFBRSxNQUhRO0FBSVgsSUFBQSxDQUFDLEVBQUUsTUFKUTtBQUtYLElBQUEsQ0FBQyxFQUFFLE1BTFE7QUFNWCxJQUFBLElBQUksRUFBRSxNQU5LO0FBT1gsSUFBQSxHQUFHLEVBQUUsTUFQTTtBQVFYLElBQUEsT0FBTyxFQUFFLFNBUkU7QUFTWCxJQUFBLEtBQUssRUFBRTtBQVRJLEdBSkY7QUFlYixFQUFBLFlBQVksRUFBRSw4Q0FmRDtBQWdCYixFQUFBLHNCQUFzQixFQUFFLGdCQWhCWDtBQWlCYixFQUFBLGFBQWEsRUFBRTtBQUNYLElBQUEsTUFBTSxFQUFFLHNCQURHO0FBRVgsSUFBQSxRQUFRLEVBQUUsbUJBRkM7QUFHWCxJQUFBLElBQUksRUFBRTtBQUhLLEdBakJGOztBQXNCYjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0ksRUFBQSxxQkFBcUIsRUFBRTtBQUNuQixJQUFBLE1BQU0sRUFBRSxFQURXO0FB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SUFBRCxDQUFkO0FBQUEsR0FBckIsQ0FBWDtBQUNIOztBQUVELFVBQVUsQ0FBQyxnQkFBWCxDQUE0QixPQUE1QixFQUFxQyxZQUFNO0FBQ3ZDLEVBQUEsUUFBUSxDQUFDLFFBQUQsQ0FBUjtBQUNILENBRkQ7QUFJQSxRQUFRLENBQUMsY0FBVCxDQUF3QixRQUF4QixFQUFrQyxnQkFBbEMsQ0FBbUQsT0FBbkQsRUFBNEQsWUFBTTtBQUM5RCxFQUFBLFVBQVUsQ0FBQyxRQUFELENBQVY7QUFDSCxDQUZEO0FBSUEsVUFBVSxDQUFDLGdCQUFYLENBQTRCLFVBQTVCLEVBQXdDLFlBQU07QUFDMUMsRUFBQSxVQUFVLENBQUMsWUFBTTtBQUNiLElBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxTQUFaLEVBQXVCLGFBQWEsQ0FBQyxRQUFELENBQXBDOztBQUNBLFFBQUksYUFBYSxDQUFDLFFBQUQsQ0FBYixLQUE0QixNQUFoQyxFQUF3QztBQUNwQyxVQUFJO0FBQ0EsUUFBQSxVQUFVLENBQUMsZUFBWCxDQUEyQixVQUEzQjtBQUNILE9BRkQsQ0FFRSxPQUFPLENBQVAsRUFBVTtBQUNSLFFBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxhQUFaO0FBQ0EsUUFBQSxVQUFVLENBQUMsWUFBWCxDQUF3QixVQUF4QixFQUFvQyxJQUFwQztBQUNIO0FBQ0osS0FQRCxNQU9PO0FBQ0gsTUFBQSxVQUFVLENBQUMsZUFBWCxDQUEyQixVQUEzQjtBQUNIO0FBQ0osR0FaUyxFQVlQLENBWk8sQ0FBVjtBQWFILENBZEQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBkaXNwbGF5Q2F0ZWdvcmllczogWydBbmFseXRpY3MnLCAnQWR2ZXJ0aXNpbmcnLCAnU29jaWFsIE5ldHdvcmsnXSxcbiAgICByZXF1ZXN0TGlzdGVuZXJUeXBlczogWydtYWluX2ZyYW1lJywgJ3N1Yl9mcmFtZScsICdzdHlsZXNoZWV0JywgJ3NjcmlwdCcsICdpbWFnZScsICdvYmplY3QnLCAneG1saHR0cHJlcXVlc3QnLCAnd2Vic29ja2V0JywgJ290aGVyJ10sIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvTW96aWxsYS9BZGQtb25zL1dlYkV4dGVuc2lvbnMvQVBJL3dlYlJlcXVlc3QvUmVzb3VyY2VUeXBlXG4gICAgZmVlZGJhY2tVcmw6ICdodHRwczovL2R1Y2tkdWNrZ28uY29tL2ZlZWRiYWNrLmpzP3R5cGU9ZXh0ZW5zaW9uLWZlZWRiYWNrJyxcbiAgICB0b3Nkck1lc3NhZ2VzOiB7XG4gICAgICAgIEE6ICdHb29kJyxcbiAgICAgICAgQjogJ01peGVkJyxcbiAgICAgICAgQzogJ1Bvb3InLFxuICAgICAgICBEOiAnUG9vcicsXG4gICAgICAgIEU6ICdQb29yJyxcbiAgICAgICAgZ29vZDogJ0dvb2QnLFxuICAgICAgICBiYWQ6ICdQb29yJyxcbiAgICAgICAgdW5rbm93bjogJ1Vua25vd24nLFxuICAgICAgICBtaXhlZDogJ01peGVkJ1xuICAgIH0sXG4gICAgaHR0cHNTZXJ2aWNlOiAnaHR0cHM6Ly9kdWNrZHVja2dvLmNvbS9zbWFydGVyX2VuY3J5cHRpb24uanMnLFxuICAgIGR1Y2tEdWNrR29TZXJwSG9zdG5hbWU6ICdkdWNrZHVja2dvLmNvbScsXG4gICAgaHR0cHNNZXNzYWdlczoge1xuICAgICAgICBzZWN1cmU6ICdFbmNyeXB0ZWQgQ29ubmVjdGlvbicsXG4gICAgICAgIHVwZ3JhZGVkOiAnRm9yY2VkIEVuY3J5cHRpb24nLFxuICAgICAgICBub25lOiAnVW5lbmNyeXB0ZWQgQ29ubmVjdGlvbidcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIE1ham9yIHRyYWNraW5nIG5ldHdvcmtzIGRhdGE6XG4gICAgICogcGVyY2VudCBvZiB0aGUgdG9wIDEgbWlsbGlvbiBzaXRlcyBhIHRyYWNraW5nIG5ldHdvcmsgaGFzIGJlZW4gc2VlbiBvbi5cbiAgICAgKiBzZWU6IGh0dHBzOi8vd2VidHJhbnNwYXJlbmN5LmNzLnByaW5jZXRvbi5lZHUvd2ViY2Vuc3VzL1xuICAgICAqL1xuICAgIG1ham9yVHJhY2tpbmdOZXR3b3Jrczoge1xuICAgICAgICBnb29nbGU6IDg0LFxuICAgICAgICBmYWNlYm9vazogMzYsXG4gICAgICAgIHR3aXR0ZXI6IDE2LFxuICAgICAgICBhbWF6b246IDE0LFxuICAgICAgICBhcHBuZXh1czogMTAsXG4gICAgICAgIG9yYWNsZTogMTAsXG4gICAgICAgIG1lZGlhbWF0aDogOSxcbiAgICAgICAgb2F0aDogOSxcbiAgICAgICAgbWF4Y2RuOiA3LFxuICAgICAgICBhdXRvbWF0dGljOiA3XG4gICAgfSxcbiAgICAvKlxuICAgICAqIE1hcHBpbmcgZW50aXR5IG5hbWVzIHRvIENTUyBjbGFzcyBuYW1lIGZvciBwb3B1cCBpY29uc1xuICAgICAqL1xuICAgIGVudGl0eUljb25NYXBwaW5nOiB7XG4gICAgICAgICdHb29nbGUgTExDJzogJ2dvb2dsZScsXG4gICAgICAgICdGYWNlYm9vaywgSW5jLic6ICdmYWNlYm9vaycsXG4gICAgICAgICdUd2l0dGVyLCBJbmMuJzogJ3R3aXR0ZXInLFxuICAgICAgICAnQW1hem9uIFRlY2hub2xvZ2llcywgSW5jLic6ICdhbWF6b24nLFxuICAgICAgICAnQXBwTmV4dXMsIEluYy4nOiAnYXBwbmV4dXMnLFxuICAgICAgICAnTWVkaWFNYXRoLCBJbmMuJzogJ21lZGlhbWF0aCcsXG4gICAgICAgICdTdGFja1BhdGgsIExMQyc6ICdtYXhjZG4nLFxuICAgICAgICAnQXV0b21hdHRpYywgSW5jLic6ICdhdXRvbWF0dGljJyxcbiAgICAgICAgJ0Fkb2JlIEluYy4nOiAnYWRvYmUnLFxuICAgICAgICAnUXVhbnRjYXN0IENvcnBvcmF0aW9uJzogJ3F1YW50Y2FzdCcsXG4gICAgICAgICdUaGUgTmllbHNlbiBDb21wYW55JzogJ25pZWxzZW4nXG4gICAgfSxcbiAgICBodHRwc0RCTmFtZTogJ2h0dHBzJyxcbiAgICBodHRwc0xpc3RzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6ICd1cGdyYWRlIGJsb29tIGZpbHRlcicsXG4gICAgICAgICAgICBuYW1lOiAnaHR0cHNVcGdyYWRlQmxvb21GaWx0ZXInLFxuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9zdGF0aWNjZG4uZHVja2R1Y2tnby5jb20vaHR0cHMvaHR0cHMtYmxvb20uanNvbidcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogXCJkb24ndCB1cGdyYWRlIGJsb29tIGZpbHRlclwiLFxuICAgICAgICAgICAgbmFtZTogJ2h0dHBzRG9udFVwZ3JhZGVCbG9vbUZpbHRlcnMnLFxuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9zdGF0aWNjZG4uZHVja2R1Y2tnby5jb20vaHR0cHMvbmVnYXRpdmUtaHR0cHMtYmxvb20uanNvbidcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogJ3VwZ3JhZGUgc2FmZWxpc3QnLFxuICAgICAgICAgICAgbmFtZTogJ2h0dHBzVXBncmFkZUxpc3QnLFxuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9zdGF0aWNjZG4uZHVja2R1Y2tnby5jb20vaHR0cHMvbmVnYXRpdmUtaHR0cHMtYWxsb3dsaXN0Lmpzb24nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IFwiZG9uJ3QgdXBncmFkZSBzYWZlbGlzdFwiLFxuICAgICAgICAgICAgbmFtZTogJ2h0dHBzRG9udFVwZ3JhZGVMaXN0JyxcbiAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vc3RhdGljY2RuLmR1Y2tkdWNrZ28uY29tL2h0dHBzL2h0dHBzLWFsbG93bGlzdC5qc29uJ1xuICAgICAgICB9XG4gICAgXSxcbiAgICB0ZHNMaXN0czogW1xuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnc3Vycm9nYXRlcycsXG4gICAgICAgICAgICB1cmw6ICcvZGF0YS9zdXJyb2dhdGVzLnR4dCcsXG4gICAgICAgICAgICBmb3JtYXQ6ICd0ZXh0JyxcbiAgICAgICAgICAgIHNvdXJjZTogJ2xvY2FsJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAndGRzJyxcbiAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vc3RhdGljY2RuLmR1Y2tkdWNrZ28uY29tL3RyYWNrZXJibG9ja2luZy92Mi4xL3Rkcy5qc29uJyxcbiAgICAgICAgICAgIGZvcm1hdDogJ2pzb24nLFxuICAgICAgICAgICAgc291cmNlOiAnZXh0ZXJuYWwnLFxuICAgICAgICAgICAgY2hhbm5lbHM6IHtcbiAgICAgICAgICAgICAgICBsaXZlOiAnaHR0cHM6Ly9zdGF0aWNjZG4uZHVja2R1Y2tnby5jb20vdHJhY2tlcmJsb2NraW5nL3YyLjEvdGRzLmpzb24nLFxuICAgICAgICAgICAgICAgIG5leHQ6ICdodHRwczovL3N0YXRpY2Nkbi5kdWNrZHVja2dvLmNvbS90cmFja2VyYmxvY2tpbmcvdjIuMS90ZHMtbmV4dC5qc29uJyxcbiAgICAgICAgICAgICAgICBiZXRhOiAnaHR0cHM6Ly9zdGF0aWNjZG4uZHVja2R1Y2tnby5jb20vdHJhY2tlcmJsb2NraW5nL2JldGEvdGRzLmpzb24nXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdDbGlja1RvTG9hZENvbmZpZycsXG4gICAgICAgICAgICB1cmw6ICdodHRwczovL3N0YXRpY2Nkbi5kdWNrZHVja2dvLmNvbS91c2VyYWdlbnRzL3NvY2lhbF9jdHBfY29uZmlndXJhdGlvbi5qc29uJyxcbiAgICAgICAgICAgIGZvcm1hdDogJ2pzb24nLFxuICAgICAgICAgICAgc291cmNlOiAnZXh0ZXJuYWwnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdjb25maWcnLFxuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9zdGF0aWNjZG4uZHVja2R1Y2tnby5jb20vdHJhY2tlcmJsb2NraW5nL2NvbmZpZy92MS9leHRlbnNpb24tY29uZmlnLmpzb24nLFxuICAgICAgICAgICAgZm9ybWF0OiAnanNvbicsXG4gICAgICAgICAgICBzb3VyY2U6ICdleHRlcm5hbCdcbiAgICAgICAgfVxuICAgIF0sXG4gICAgaHR0cHNFcnJvckNvZGVzOiB7XG4gICAgICAgICduZXQ6OkVSUl9DT05ORUNUSU9OX1JFRlVTRUQnOiAxLFxuICAgICAgICAnbmV0OjpFUlJfQUJPUlRFRCc6IDIsXG4gICAgICAgICduZXQ6OkVSUl9TU0xfUFJPVE9DT0xfRVJST1InOiAzLFxuICAgICAgICAnbmV0OjpFUlJfU1NMX1ZFUlNJT05fT1JfQ0lQSEVSX01JU01BVENIJzogNCxcbiAgICAgICAgJ25ldDo6RVJSX05BTUVfTk9UX1JFU09MVkVEJzogNSxcbiAgICAgICAgTlNfRVJST1JfQ09OTkVDVElPTl9SRUZVU0VEOiA2LFxuICAgICAgICBOU19FUlJPUl9VTktOT1dOX0hPU1Q6IDcsXG4gICAgICAgICdBbiBhZGRpdGlvbmFsIHBvbGljeSBjb25zdHJhaW50IGZhaWxlZCB3aGVuIHZhbGlkYXRpbmcgdGhpcyBjZXJ0aWZpY2F0ZS4nOiA4LFxuICAgICAgICAnVW5hYmxlIHRvIGNvbW11bmljYXRlIHNlY3VyZWx5IHdpdGggcGVlcjogcmVxdWVzdGVkIGRvbWFpbiBuYW1lIGRvZXMgbm90IG1hdGNoIHRoZSBzZXJ2ZXLigJlzIGNlcnRpZmljYXRlLic6IDksXG4gICAgICAgICdDYW5ub3QgY29tbXVuaWNhdGUgc2VjdXJlbHkgd2l0aCBwZWVyOiBubyBjb21tb24gZW5jcnlwdGlvbiBhbGdvcml0aG0ocykuJzogMTAsXG4gICAgICAgICdTU0wgcmVjZWl2ZWQgYSByZWNvcmQgdGhhdCBleGNlZWRlZCB0aGUgbWF4aW11bSBwZXJtaXNzaWJsZSBsZW5ndGguJzogMTEsXG4gICAgICAgICdUaGUgY2VydGlmaWNhdGUgaXMgbm90IHRydXN0ZWQgYmVjYXVzZSBpdCBpcyBzZWxmLXNpZ25lZC4nOiAxMixcbiAgICAgICAgZG93bmdyYWRlX3JlZGlyZWN0X2xvb3A6IDEzXG4gICAgfSxcbiAgICBwbGF0Zm9ybToge1xuICAgICAgICBuYW1lOiAnZXh0ZW5zaW9uJ1xuICAgIH1cbn1cbiIsImNvbnN0IGNvbnN0YW50cyA9IHJlcXVpcmUoJy4uLy4uL2RhdGEvY29uc3RhbnRzJylcblxuY29uc3QgbGlzdFBpY2tlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXN0LXBpY2tlcicpXG5jb25zdCBsaXN0RWRpdG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpc3QtY29udGVudCcpXG5jb25zdCBzYXZlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmUnKVxuXG5jb25zdCBsaXN0cyA9IGNvbnN0YW50cy50ZHNMaXN0c1xubGV0IHNlbGVjdGVkID0gbGlzdHNbMF0ubmFtZVxuXG5mdW5jdGlvbiBnZXRMaXN0Rm9ybWF0IChuYW1lKSB7XG4gICAgcmV0dXJuIGxpc3RzLmZpbmQobCA9PiBsLm5hbWUgPT09IG5hbWUpPy5mb3JtYXRcbn1cblxuLy8gYnVpbGQgc3dpdGNoZXIgb3B0aW9uc1xubGlzdHMuZm9yRWFjaCgoeyBuYW1lIH0pID0+IHtcbiAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKVxuICAgIG9wdGlvbi52YWx1ZSA9IG5hbWVcbiAgICBvcHRpb24uaW5uZXJUZXh0ID0gbmFtZVxuICAgIGxpc3RQaWNrZXIuYXBwZW5kQ2hpbGQob3B0aW9uKVxufSlcblxuZnVuY3Rpb24gbGlzdFN3aXRjaGVyICgpIHtcbiAgICBzZWxlY3RlZCA9IGxpc3RQaWNrZXIuc2VsZWN0ZWRPcHRpb25zWzBdLnZhbHVlXG4gICAgbG9hZExpc3Qoc2VsZWN0ZWQpXG4gICAgc2F2ZUJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJylcbn1cbmxpc3RQaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgbGlzdFN3aXRjaGVyKVxubGlzdFN3aXRjaGVyKClcblxuZnVuY3Rpb24gc2VuZE1lc3NhZ2UgKG1lc3NhZ2VUeXBlLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHsgbWVzc2FnZVR5cGUsIG9wdGlvbnMgfSwgY2FsbGJhY2spXG59XG5cbmZ1bmN0aW9uIGxvYWRMaXN0IChuYW1lKSB7XG4gICAgc2VuZE1lc3NhZ2UoJ2dldExpc3RDb250ZW50cycsIG5hbWUsICh7IGV0YWcsIGRhdGEgfSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGdldExpc3RGb3JtYXQobmFtZSkgPT09ICdqc29uJyA/IEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsICcgICcpIDogZGF0YVxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlzdC1jb250ZW50JykudmFsdWUgPSB2YWx1ZVxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIHNhdmVMaXN0IChuYW1lKSB7XG4gICAgY29uc3QgdmFsdWUgPSBsaXN0RWRpdG9yLnZhbHVlXG4gICAgc2VuZE1lc3NhZ2UoJ3NldExpc3RDb250ZW50cycsIHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdmFsdWU6IGdldExpc3RGb3JtYXQobmFtZSkgPT09ICdqc29uJyA/IEpTT04ucGFyc2UodmFsdWUpIDogdmFsdWVcbiAgICB9LCAoKSA9PiBsb2FkTGlzdChuYW1lKSlcbn1cblxuZnVuY3Rpb24gcmVsb2FkTGlzdCAobmFtZSkge1xuICAgIHNlbmRNZXNzYWdlKCdyZWxvYWRMaXN0JywgbmFtZSwgKCkgPT4gbG9hZExpc3QobmFtZSkpXG59XG5cbnNhdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgc2F2ZUxpc3Qoc2VsZWN0ZWQpXG59KVxuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVsb2FkJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcmVsb2FkTGlzdChzZWxlY3RlZClcbn0pXG5cbmxpc3RFZGl0b3IuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCAoKSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjaGFuZ2VkJywgZ2V0TGlzdEZvcm1hdChzZWxlY3RlZCkpXG4gICAgICAgIGlmIChnZXRMaXN0Rm9ybWF0KHNlbGVjdGVkKSA9PT0gJ2pzb24nKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHNhdmVCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3BhcnNlIGVycm9yJylcbiAgICAgICAgICAgICAgICBzYXZlQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2F2ZUJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJylcbiAgICAgICAgfVxuICAgIH0sIDApXG59KVxuIl19
